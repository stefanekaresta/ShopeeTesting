angular.module("altairApp").controller("digiAllcustomer",function($scope,$rootScope,utils,$cookies,$log,$location,CommonService,ReconstructMenu,$filter,$timeout,$window,NotificationService,ForeignManagementModuleFactory){function getCurrency(){var success=function(data){data.rates},error=function(data){};ForeignManagementModuleFactory.getDataCurrency().then(success,error)}function formatNumber(num){return num.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}ReconstructMenu.Init(),$scope.resultData=[],$scope.isidetail=[],$scope.currency={options:[]},$scope.vm={},$scope.currency={value:10},$scope.showApp=!1,$scope.showAdd=!0,$scope.selectize_notebook_type_config={create:!1,maxItems:1,placeholder:"Select Currency",optgroupField:"parent_id",optgroupLabelField:"title",optgroupValueField:"id",valueField:"value",labelField:"title",searchField:"title"},getCurrency(),$scope.currency.options=[{id:"001",title:"USD",value:"USD",desc:"USD - United States Dollar",desc2:"1 USD =",parent_id:""},{id:"002",title:"CAD",value:"CAD",desc:"CAD - Canadian Dollar",desc2:"1 USD =",parent_id:""},{id:"003",title:"IDR",value:"IDR",desc:"IDR - Indonesian Rupiah",desc2:"1 USD =",parent_id:""},{id:"004",title:"GBP",value:"GBP",desc:"GBP - Pound sterling",desc2:"1 USD =",parent_id:""},{id:"005",title:"CHF",value:"CHF",desc:"CHF - Swiss Franc",desc2:"1 USD =",parent_id:""},{id:"006",title:"SGD",value:"SGD",desc:"SGD - Singapore Dollar",desc2:"1 USD =",parent_id:""},{id:"007",title:"INR",value:"INR",desc:"INR - Indian Rupee",desc2:"1 USD =",parent_id:""},{id:"008",title:"MYR",value:"MYR",desc:"MYR - Malaysian Ringgit",desc2:"1 USD =",parent_id:""},{id:"009",title:"JPY",value:"JPY",desc:"JPY - Japanese Yen",desc2:"1 USD =",parent_id:""},{id:"010",title:"KRW",value:"KRW",desc:"KRW - South Korean Won",desc2:"1 USD =",parent_id:""},{id:"011",title:"EUR",value:"EUR",desc:"EUR - EURO",desc2:"1 USD =",parent_id:""},{id:"012",title:"BRL",value:"BRL",desc:"BRL - Brazillian",desc2:"1 USD =",parent_id:""}],$scope.getCurrencyCount=function(){var modal=UIkit.modal.blockUI("<div class='uk-text-center'>Please Wait ... <br/><img class='uk-margin-top' src='assets/img/spinners/spinner.gif' alt=''>"),success=function(data){var find=$scope.request.currency,data=data.rates;$scope.HasilAkhir=data[find];var result=$filter("filter")($scope.currency.options,{title:$scope.request.currency});if(result.length>0){var sg=result[0];$scope.desc1=sg.desc,$scope.desc2=sg.desc2}$scope.desc2=$scope.currency.options[0].desc2+""+$scope.HasilAkhir,modal.hide()},error=function(data){};ForeignManagementModuleFactory.getDataCurrency().then(success,error)},$scope.submitData=function(){var x=$scope.currency.value,jumlah=(parseInt($scope.HasilAkhir),(x*$scope.HasilAkhir).toFixed(2)),data=((jumlah/1e3).toFixed(3),{amount:formatNumber(jumlah),desc1:$scope.desc1,desc2:$scope.desc2,currency:$scope.request.currency,amountawal:$scope.HasilAkhir});$scope.isidetail.push(data),$scope.showApp=!1,$scope.showAdd=!0,$scope.request.currency=""},$scope.remove=function(item){var index=$scope.isidetail.indexOf(item);$scope.isidetail.splice(index,1)},$scope.addMore=function(){$scope.showApp=!0,$scope.showAdd=!1},$scope.changeCurr=function(){for(var a=0;a<$scope.isidetail.length;a++){var x=$scope.currency.value,aaa=$scope.isidetail[a].amountawal,jumlah=(x*aaa).toFixed(2);(jumlah/1e3).toFixed(3);$scope.isidetail[a].amount=formatNumber(jumlah)}}});